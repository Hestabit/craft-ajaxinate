!function(t){"use strict";let a=t("#js_Hb_LoadMore");t(".propFilter");t.fn.loadData=function(e){a.show();Number(a.attr("data-currentpage"));let r=t.extend({path:null,data:null,action:"init",containerClass:".ajaxDataDump",messageClass:".js_elMessage",[window.Craft.csrfTokenName]:window.Craft.csrfTokenValue},e);t(r.messageClass).html(""),"reset"==r.action&&t(r.containerClass).html("");let n=t.post({url:r.path,dataType:"json",data:r,enctype:"multipart/form-data"});n.done(function(e){"init"==r.action&&a.attr("data-limit",Number(e.limit)),e.entries&&""!=e.entries&&t(r.containerClass).append(e.entries),"sorting"!=r.action&&"catFilter"!=r.action||e.entries&&""!=e.entries&&t(r.containerClass).html(e.entries),null==e.entries&&(t(r.messageClass).html(e.message),a.hide())}),n.fail(function(t,a){alert("Request failed: "+a)})},t.fn.onload=function(){let e={[window.Craft.csrfTokenName]:window.Craft.csrfTokenValue};var r=Number(a.attr("data-currentpage"));let n=t("#js_ajaxinateRender").data("settings");a.attr("data-currentpage",Number(++r)),t.fn.loadData({path:"/actions/craft-ajaxinate/default/plugin-init",data:e,currentpage:r,settings:n})},t.fn.onload(),a.on("click",function(){try{let e=Number(a.attr("data-currentpage"));a.attr("data-currentpage",Number(++e));let r=Number(a.attr("data-sorting")),n=Array(a.attr("data-catfilter")),i=JSON.parse(a.attr("data-extrafilter")),s=t("#js_ajaxinateRender").data("settings");t.fn.loadData({path:"/actions/craft-ajaxinate/default/load-more",action:"loadmore",currentpage:e,sorting:r,catfilter:n,extrafilter:i,settings:s})}catch(t){console.log(`Error occured in craft-ajaxinate :: ${t}`)}}),t("#hb_sorting").on("change",function(){let e=t(this).children("option:selected").val(),r=t("#js_ajaxinateRender").data("settings");a.attr("data-sorting",Number(e)),a.attr("data-currentpage",Number(1)),t.fn.loadData({path:"/actions/craft-ajaxinate/default/load-more",action:"sorting",sorting:Number(e),currentpage:1,settings:r})}),t("input[name='cat']").on("change",function(){let e=[];t.each(t("input[name='cat']:checked"),function(){e.push(t(this).val())});let r=Number(a.attr("data-sorting")),n=(Array(a.attr("data-catfilter")),JSON.parse(a.attr("data-extrafilter"))),i=t("#js_ajaxinateRender").data("settings");a.attr("data-currentpage",Number(1)),t.fn.loadData({path:"/actions/craft-ajaxinate/default/load-more",action:"catFilter",catfilter:e,sorting:r,extrafilter:n,currentpage:1,settings:i}),a.attr("data-catfilter",e)}),t("#js_ResetBtn").on("click",function(){a.attr("data-currentpage",Number(1)),a.attr("data-sorting",Number(0)),a.attr("data-catfilter",""),a.attr("data-extrafilter","[{}]");var e=Number(a.attr("data-currentpage"));let r=t("#js_ajaxinateRender").data("settings");t.fn.loadData({action:"reset",path:"/actions/craft-ajaxinate/default/plugin-init",currentpage:e,settings:r});t(".js_eFilterO").prop("checked",!1),t(".js_Cat").prop("checked",!1)}),t(".js_eFilterO").on("change",e=>{let r=[],n=t("#js_ajaxinateRender").data("settings");t.each(t(".js_eFilterO"),function(){let a=t(this).attr("type"),e=t(this).val(),n=t(this).attr("name"),i=t(this).attr("data-ftype");"range"==a&&r.push({handle:n,value:e,ftype:i}),t(this).prop("checked")&&r.push({handle:n,value:e,ftype:i})}),a.attr("data-currentpage",Number(1)),a.attr("data-extrafilter",JSON.stringify(r));let i=Array(a.attr("data-catfilter")),s=Number(a.attr("data-sorting"));t.fn.loadData({path:"/actions/craft-ajaxinate/default/load-more",action:"catFilter",extrafilter:r,catfilter:i,currentpage:1,sorting:s,settings:n})})}(jQuery);
